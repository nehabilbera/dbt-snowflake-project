version: 2 

 

sources: 

# name of the source --- priority to give name same as schema 

  - name: jaffle_shop  

    description: A clone of snowflake database 

    database: raw 

    schema: jaffle_shop 

    tables: 

      - name: customers 

        description: Raw customers data  

      # tests with sources 

        # columns: 

        #   - name: id 

        #     description: primary key 

        #     data_tests: 

        #       - unique 

        #       - not_null 

      - name: orders 

      # source freshness 

        config:  

          loaded_at_field: _etl_loaded_at 

          freshness: 

            warn_after: {count: 24, period: hour} 

            error_after: {count: 48, period: hour} 

 

           

# other way of creating sources quickly 

# dbt run-operation generate_source --args '{"schema_name": "jaffle_shop", "database_name": "raw"}' 